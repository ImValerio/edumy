{% extends 'base.html' %}
{% block title %}Store{% endblock %}

{% block content %}

    {% load static %}
    <h1 class="font-weight-normal text-uppercase m-1 p-1" style="letter-spacing: 5px; font-size: 3em">Store</h1>

    {% include 'courseHandler/course/search.html' %}

    
   <ul class="container">
        {% for course in courses %}
            {% if course not in cartProd and course.id not in coursesBought %}
                <div class="d-flex flex-column flex-md-row m-3 p-1 bg-light shadow-sm">
                    <img src="{% get_media_prefix %}{{ course.image }} " width="400" class="mr-3">
                    <div class="w-100">
                        <div class="w-100 d-flex  flex-column flex-md-row justify-content-between align-items-center">
                            <a href="{% url 'courseHandler:course-detail' pk=course.id %}">
                                <h1 class="text-body">{{ course.title }} </h1>
                            </a>
                                <h1>{{ course.price }} $</h1>
                        </div>

                        <p>{{ course.description }}</p>
                        <p class="font-italic">{{ course.author.first_name }} {{ course.author.last_name }}</p>
                        <p class="text-muted">{{ course.category }}</p>
                        {% if user.usertype.type == 'student' %}
                            <button data-product="{{ course.id }}" data-action="add" class="btn-success cart-update font-weight-bold p-2 px-3 border-0">Add to cart</button>
                        {% endif %}
                    </div>

                </div>
            {% endif %}
        {% endfor %}
    </ul>

{% endblock %}